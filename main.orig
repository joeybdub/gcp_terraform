resource "random_id" "id" {
  byte_length = 4
  prefix      = "${var.project_name}-"
}

resource "google_project" "project" {
  name            = "${var.project_name}"
  project_id      = "${random_id.id.hex}"
  billing_account = "${var.billing_account}"
  org_id          = "${var.org_id}"
}
resource "google_project" "Project" {
    name            = "${var.project_name}"
    project_id      = "${random_id.id.hex}"
    billing_account = "${var.billing_account}"
}

resource "google_service_account" "service accounts" {
  account_id   = "joes-project-sa"
  display_name = "joes-project-sa"
  project = "joes-project-sa"
}

resource "google_project_iam_custom_role" "" {
  role_id     = "service accounts"
  title       = "joes-project-sa"
  description = "service account for project"
  permissions = ["iam.roles.list", "iam.roles.create", "iam.roles.delete"]
  project     = "joes-project-236211"
}
